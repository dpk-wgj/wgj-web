<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://www.mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dpk.wgj.mapper.PassengerMapper">
    <resultMap id="PassengerMap" type="com.dpk.wgj.bean.Passenger">
        <id column="passenger_id" property="passengerId"/>
        <result column="passenger_wx_id" property="passengerWxId"/>
        <result column="passenger_phone_number" property="passengerPhoneNumber"/>
        <result column="passenger_location" property="passengerLocation"/>
        <result column="passenger_level_star" property="passengerLevelStar"/>
        <result column="passenger_status" property="passengerStatus"/>
        <result column="user_group_id" property="userGroupId"/>
    </resultMap>

    <select id="getPassengerByWxId" resultMap="PassengerMap">
        SELECT passenger_id, passenger_wx_id, user_group_id FROM passenger_info
        WHERE passenger_wx_id = #{passengerWxId}
    </select>

    <insert id="addPassenger" parameterType="Passenger" useGeneratedKeys="true" keyProperty="passengerId">
        INSERT INTO passenger_info (passenger_wx_id, user_group_id)
        VALUES (#{passengerWxId}, #{userGroupId})
    </insert>


</mapper>